name: terraform-ibm-key-protect-all-inclusive
type: terraform
description: >-
  Creates a Key Protect instance, key rings for different services, and a key
  for each instance of the service
tags:
  - tools
  - infrastructure
  - saas
versions:
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name to give the Key Protect instance that will be provisioned by
          this module. Only used if 'create_key_protect_instance' is true
        default: 'null'
      - name: key_protect_plan
        type: string
        description: >-
          Plan for the Key Protect instance. Currently only 'tiered-pricing' is
          supported. Only used if 'create_key_protect_instance' is true
        default: tiered-pricing
      - name: enable_metrics
        type: bool
        description: >-
          Set to true to enable metrics on the Key Protect instance (ignored is
          value for 'existing_key_protect_instance_guid' is passed). In order to
          view metrics, you will need a Monitoring (Sysdig) instance that is
          located in the same region as the Key Protect instance. Once you
          provision the Monitoring instance, you will need to enable platform
          metrics.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of the service endpoints to be set for the Key Protect
          instance. Possible values are 'public', 'private', or
          'public-and-private'. Ignored is value for
          'existing_key_protect_instance_guid' is passed.
        default: public-and-private
      - name: existing_key_protect_instance_guid
        type: string
        description: >-
          The GUID of an existing Key Protect instance, required if
          'var.create_key_protect_instance' is false.
        default: 'null'
      - name: key_map
        type: map(list(string))
        description: >-
          Use this variable if you wish to create both a new key ring and new
          key. The map should contain the desired Key Ring name as the keys of
          the map, and a list of desired Key Protect Key names to create as the
          values for each Key Ring.
        default: '{}'
      - name: existing_key_map
        type: map(list(string))
        description: >-
          Use this variable if you wish to create new keys inside already
          existing Key Ring(s). The map should contain the existing Key Ring
          name as the keys of the map, and a list of desired Key Protect Key
          names to create as the values for each existing Key Ring.
        default: '{}'
      - name: force_delete
        type: bool
        description: Allow keys to be force deleted, even if key is in use
        default: true
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for creating key rings. Accepts
          'public' or 'private'
        default: public
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for creating keys. Accepts 'public' or
          'private'
        default: public
      - name: resource_tags
        type: list(string)
        description: >-
          Optional list of tags to be added to the Key Protect instance. Only
          used if 'create_key_protect_instance' is true.
        default: []
    version: v3.0.1
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Key Protect Name
      - name: key_rings
        description: IDs of new Key Rings created by the module
      - name: keys
        description: IDs of new Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name to give the Key Protect instance that will be provisioned by
          this module. Only used if 'create_key_protect_instance' is true
        default: 'null'
      - name: key_protect_plan
        type: string
        description: >-
          Plan for the Key Protect instance. Currently only 'tiered-pricing' is
          supported. Only used if 'create_key_protect_instance' is true
        default: tiered-pricing
      - name: enable_metrics
        type: bool
        description: >-
          Set to true to enable metrics on the Key Protect instance (ignored is
          value for 'existing_key_protect_instance_guid' is passed). In order to
          view metrics, you will need a Monitoring (Sysdig) instance that is
          located in the same region as the Key Protect instance. Once you
          provision the Monitoring instance, you will need to enable platform
          metrics.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of the service endpoints to be set for the Key Protect
          instance. Possible values are 'public', 'private', or
          'public-and-private'. Ignored is value for
          'existing_key_protect_instance_guid' is passed.
        default: public-and-private
      - name: existing_key_protect_instance_guid
        type: string
        description: >-
          The GUID of an existing Key Protect instance, required if
          'var.create_key_protect_instance' is false.
        default: 'null'
      - name: key_map
        type: map(list(string))
        description: >-
          Use this variable if you wish to create both a new key ring and new
          key. The map should contain the desired Key Ring name as the keys of
          the map, and a list of desired Key Protect Key names to create as the
          values for each Key Ring.
        default: '{}'
      - name: existing_key_map
        type: map(list(string))
        description: >-
          Use this variable if you wish to create new keys inside already
          existing Key Ring(s). The map should contain the existing Key Ring
          name as the keys of the map, and a list of desired Key Protect Key
          names to create as the values for each existing Key Ring.
        default: '{}'
      - name: force_delete
        type: bool
        description: Allow keys to be force deleted, even if key is in use
        default: true
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for creating key rings. Accepts
          'public' or 'private'
        default: public
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for creating keys. Accepts 'public' or
          'private'
        default: public
      - name: resource_tags
        type: list(string)
        description: >-
          Optional list of tags to be added to the Key Protect instance. Only
          used if 'create_key_protect_instance' is true.
        default: []
    version: v3.0.0
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Key Protect Name
      - name: key_rings
        description: IDs of new Key Rings created by the module
      - name: keys
        description: IDs of new Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: prefix
        type: string
        description: The prefix to use for naming all of the provisioned resources.
      - name: enable_metrics
        type: bool
        description: Set as true to enable metrics on the Key Protect instance.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name to give the Key Protect instance that will be provisioned by
          this module, this variable will be ignored if a value is passed for
          'var.existing_key_protect_instance_guid.
        default: 'null'
      - name: existing_key_protect_instance_guid
        type: string
        description: >-
          The GUID of an existing Key Protect instance, required if
          'var.create_key_protect_instance' is false.
        default: 'null'
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for keys and
          key rings, accepts 'public' or 'private'
        default: public-and-private
      - name: use_existing_key_rings
        type: bool
        description: >-
          A flag to control whether the 'existing_key_map' variable is used,
          defaults to false.
        default: false
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for key rings,
          accepts 'public' or 'private'
        default: public
      - name: key_map
        type: map(list(string))
        description: >-
          A Map containing the desired Key Ring Names as the keys of the map and
          a list of desired Key Protect Key names as the values for each Key
          Ring.
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for keys, accepts 'public' or
          'private'
        default: public
      - name: existing_key_map
        type: map(list(string))
        description: >-
          A Map containing existing Key Ring names as the keys of the map and a
          list of desired Key Protect Key names as the values for each existing
          Key Ring, these keys will only be created if
          `create_key_protect_instance' is false.
        default: '{}'
      - name: resource_tags
        type: list(string)
        description: Optional list of tags to be added to created resources.
        default: []
    version: v2.0.3
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Key Protect Name
      - name: key_rings
        description: IDs of Key Rings created by the module
      - name: keys
        description: IDs of Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: prefix
        type: string
        description: The prefix to use for naming all of the provisioned resources.
      - name: enable_metrics
        type: bool
        description: Set as true to enable metrics on the Key Protect instance.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name to give the Key Protect instance that will be provisioned by
          this module, this variable will be ignored if a value is passed for
          'var.existing_key_protect_instance_guid.
        default: 'null'
      - name: existing_key_protect_instance_guid
        type: string
        description: >-
          The GUID of an existing Key Protect instance, required if
          'var.create_key_protect_instance' is false.
        default: 'null'
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for keys and
          key rings, accepts 'public' or 'private'
        default: public-and-private
      - name: use_existing_key_rings
        type: bool
        description: >-
          A flag to control whether the 'existing_key_map' variable is used,
          defaults to false.
        default: false
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for key rings,
          accepts 'public' or 'private'
        default: public
      - name: key_map
        type: map(list(string))
        description: >-
          A Map containing the desired Key Ring Names as the keys of the map and
          a list of desired Key Protect Key names as the values for each Key
          Ring.
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for keys, accepts 'public' or
          'private'
        default: public
      - name: existing_key_map
        type: map(list(string))
        description: >-
          A Map containing existing Key Ring names as the keys of the map and a
          list of desired Key Protect Key names as the values for each existing
          Key Ring, these keys will only be created if
          `create_key_protect_instance' is false.
        default: '{}'
      - name: resource_tags
        type: list(string)
        description: Optional list of tags to be added to created resources.
        default: []
    version: v2.0.2
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Key Protect Name
      - name: key_rings
        description: IDs of Key Rings created by the module
      - name: keys
        description: IDs of Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: prefix
        type: string
        description: The prefix to use for naming all of the provisioned resources.
      - name: enable_metrics
        type: bool
        description: Set as true to enable metrics on the Key Protect instance.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name to give the Key Protect instance that will be provisioned by
          this module, this variable will be ignored if a value is passed for
          'var.existing_key_protect_instance_guid.
        default: 'null'
      - name: existing_key_protect_instance_guid
        type: string
        description: >-
          The GUID of an existing Key Protect instance, required if
          'var.create_key_protect_instance' is false.
        default: 'null'
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for keys and
          key rings, accepts 'public' or 'private'
        default: public-and-private
      - name: use_existing_key_rings
        type: bool
        description: >-
          A flag to control whether the 'existing_key_map' variable is used,
          defaults to false.
        default: false
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for key rings,
          accepts 'public' or 'private'
        default: public
      - name: key_map
        type: map(list(string))
        description: >-
          A Map containing the desired Key Ring Names as the keys of the map and
          a list of desired Key Protect Key names as the values for each Key
          Ring.
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for keys, accepts 'public' or
          'private'
        default: public
      - name: existing_key_map
        type: map(list(string))
        description: >-
          A Map containing existing Key Ring names as the keys of the map and a
          list of desired Key Protect Key names as the values for each existing
          Key Ring, these keys will only be created if
          `create_key_protect_instance' is false.
        default: '{}'
      - name: resource_tags
        type: list(string)
        description: Optional list of tags to be added to created resources.
        default: []
    version: v2.0.1
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Key Protect Name
      - name: key_rings
        description: IDs of Key Rings created by the module
      - name: keys
        description: IDs of Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: prefix
        type: string
        description: The prefix to use for naming all of the provisioned resources.
      - name: enable_metrics
        type: bool
        description: Set as true to enable metrics on the Key Protect instance.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name to give the Key Protect instance that will be provisioned by
          this module, this variable will be ignored if a value is passed for
          'var.existing_key_protect_instance_guid.
        default: 'null'
      - name: existing_key_protect_instance_guid
        type: string
        description: >-
          The GUID of an existing Key Protect instance, required if
          'var.create_key_protect_instance' is false.
        default: 'null'
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for keys and
          key rings, accepts 'public' or 'private'
        default: public-and-private
      - name: use_existing_key_rings
        type: bool
        description: >-
          A flag to control whether the 'existing_key_map' variable is used,
          defaults to false.
        default: false
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for key rings,
          accepts 'public' or 'private'
        default: public
      - name: key_map
        type: map(list(string))
        description: >-
          A Map containing the desired Key Ring Names as the keys of the map and
          a list of desired Key Protect Key names as the values for each Key
          Ring.
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for keys, accepts 'public' or
          'private'
        default: public
      - name: existing_key_map
        type: map(list(string))
        description: >-
          A Map containing existing Key Ring names as the keys of the map and a
          list of desired Key Protect Key names as the values for each existing
          Key Ring, these keys will only be created if
          `create_key_protect_instance' is false.
        default: '{}'
      - name: resource_tags
        type: list(string)
        description: Optional list of tags to be added to created resources.
        default: []
    version: v2.0.0
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Key Protect Name
      - name: key_rings
        description: IDs of Key Rings created by the module
      - name: keys
        description: IDs of Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: prefix
        type: string
        description: The prefix to use for naming all of the provisioned resources.
      - name: enable_metrics
        type: bool
        description: Set as true to enable metrics on the Key Protect instance.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name of the existing Key Protect instance, if
          'create_key_protect_instance' is true a new instance will be created
          with this name.
        default: 'null'
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for keys and
          key rings, accepts 'public' or 'private'
        default: public-and-private
      - name: use_existing_key_rings
        type: bool
        description: >-
          A flag to control whether the 'existing_key_map' variable is used,
          defaults to false.
        default: false
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for key rings,
          accepts 'public' or 'private'
        default: public
      - name: key_map
        type: map(list(string))
        description: >-
          A Map containing the desired Key Ring Names as the keys of the map and
          a list of desired Key Protect Key names as the values for each Key
          Ring.
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for keys, accepts 'public' or
          'private'
        default: public
      - name: existing_key_map
        type: map(list(string))
        description: >-
          A Map containing existing Key Ring names as the keys of the map and a
          list of desired Key Protect Key names as the values for each existing
          Key Ring, these keys will only be created if
          `create_key_protect_instance' is false.
        default: '{}'
      - name: resource_tags
        type: list(string)
        description: Optional list of tags to be added to created resources.
        default: []
    version: v1.1.2
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Name of the Key Protect instance
      - name: key_rings
        description: IDs of Key Rings created by the module
      - name: keys
        description: IDs of Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
      - name: restapi
        source: Mastercard/restapi
    dependencies: []
    variables:
      - name: resource_group_id
        type: string
        description: The name of the Resource Group to provision all resources in.
      - name: region
        type: string
        description: The IBM Cloud region where all resources will be provisioned.
      - name: prefix
        type: string
        description: The prefix to use for naming all of the provisioned resources.
      - name: enable_metrics
        type: bool
        description: Set as true to enable metrics on the Key Protect instance.
        default: true
      - name: key_protect_instance_name
        type: string
        description: >-
          The name of the existing Key Protect instance, if
          'create_key_protect_instance' is true a new instance will be created
          with this name.
        default: 'null'
      - name: create_key_protect_instance
        type: bool
        description: >-
          A flag to control whether a Key Protect instance is created, defaults
          to true.
        default: true
      - name: key_protect_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for keys and
          key rings, accepts 'public' or 'private'
        default: public-and-private
      - name: use_existing_key_rings
        type: bool
        description: >-
          A flag to control whether the 'existing_key_map' variable is used,
          defaults to false.
        default: false
      - name: key_ring_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used, if creating instances for key rings,
          accepts 'public' or 'private'
        default: public
      - name: key_map
        type: map(list(string))
        description: >-
          A Map containing the desired Key Ring Names as the keys of the map and
          a list of desired Key Protect Key names as the values for each Key
          Ring.
      - name: key_endpoint_type
        type: string
        description: >-
          The type of endpoint to be used for keys, accepts 'public' or
          'private'
        default: public
      - name: existing_key_map
        type: map(list(string))
        description: >-
          A Map containing existing Key Ring names as the keys of the map and a
          list of desired Key Protect Key names as the values for each existing
          Key Ring, these keys will only be created if
          `create_key_protect_instance' is false.
        default: '{}'
      - name: resource_tags
        type: list(string)
        description: Optional list of tags to be added to created resources.
        default: []
    version: v1.1.1
    outputs:
      - name: key_protect_guid
        description: Key Protect GUID
      - name: key_protect_name
        description: Name of the Key Protect instance
      - name: key_rings
        description: IDs of Key Rings created by the module
      - name: keys
        description: IDs of Keys created by the module
      - name: existing_key_ring_keys
        description: IDs of Keys created by the module in existing Key Rings
id: github.com/terraform-ibm-modules/terraform-ibm-key-protect-all-inclusive
